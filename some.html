<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
        <div id="questionsContainer">
            <h2 id="question"></h2>
            <div id="answersContainer">
           
            </div>
            <button onclick="nextQuestion()"> Next question</button>
            
        </div>
        <h1>Correct answers: <span id="correctCount"></span></h1>
        <script>
            const questions = [
            { question: 'what color is sun?',
            answers: ['yellow', 'blue', 'green', 'red'],
            correctAnswerIndex: 0,
            },

            { question: 'what color is sky?',
            answers: ['yellow', 'blue', 'green', 'red'],
            correctAnswerIndex: 1,
             },

            { question: 'what color is gruss?',
            answers: ['yellow', 'blue', 'green', 'red'],
            correctAnswerIndex: 2,
            },

            ]

            const questionText = document.getElementById('question')
            const answersContainer = document.getElementById('answersContainer')
            const correctAnswerIndicator = document.getElementById('correctCount')
            const questionsContainer = document.getElementById('questionsContainer')
            let correctAnswerCount = 0;
            let currentQuestionIndex = 0;

            function renderQuestion(index){
                if(index >= questions.length) {
                    questionsContainer.innerHTML = `<h1>The End</h1>`;
                    return;
                }
                questionText.innerHTML = questions[index].question;
                let inputsText = ''
                for(let answerIndex in questions[index].answers) {
                    const radioInputHTML = `<input type="radio" name="answer" class="answerInput" value="${answerIndex}" />
                                            <label>${questions[index].answers[answerIndex]}`;
                    inputsText = `${inputsText}${radioInputHTML}`;
                }
                answersContainer.innerHTML = inputsText;
            }
            function checkAnswer(){
                const answerElements = document.getElementsByClassName('answerInput');
                for(const element of answerElements) {
                    if(element.checked) {
                        const userChoice = Number(element.value);
                        const correctAnswer = questions[currentQuestionIndex].correctAnswerIndex;
                        if(userChoice === correctAnswer) {
                            correctAnswerCount ++;
                        } 
                        
                    }
                }
                correctAnswerIndicator.innerHTML = `${correctAnswerCount} of ${questions.length}` ;
                
            }

            function nextQuestion(){
                currentQuestionIndex = currentQuestionIndex +1;
                checkAnswer();
                renderQuestion(currentQuestionIndex);
            }

            renderQuestion(currentQuestionIndex);
        </script>
</body>
</html>